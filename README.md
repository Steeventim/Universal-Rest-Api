# SystÃ¨me de TP : APIs REST TypeScript ğŸš€

## ğŸ“š Formation ComplÃ¨te - 8 TPs Progressifs

Un systÃ¨me de formation complet pour maÃ®triser le dÃ©veloppement d'APIs REST avec TypeScript, de l'initiation au dÃ©ploiement en production enterprise.

### ğŸ¯ Parcours d'Apprentissage

```
ğŸ¥‰ Bronze (Fondamentaux)     ğŸ¥ˆ Silver (MaÃ®trise)        ğŸ¥‡ Gold (Expertise)
     20-30h                      30-40h                      40-60h
      â¬‡ï¸                          â¬‡ï¸                          â¬‡ï¸
 TP-01: Fondamentaux        TP-04: Tests & QualitÃ©     TP-07: API AvancÃ©e
 TP-02: Routes/Middleware   TP-05: SÃ©curitÃ©           TP-08: DÃ©ploiement
 TP-03: Validation/Erreurs  TP-06: Base de donnÃ©es    
```

### ğŸ† Progression par Niveau

#### ğŸ¥‰ **Niveau Bronze** - DÃ©veloppeur API Junior
- **DurÃ©e** : 20-30 heures
- **Public** : DÃ©butants Node.js/TypeScript
- **Objectif** : MaÃ®triser les fondamentaux du dÃ©veloppement d'API REST

#### ğŸ¥ˆ **Niveau Silver** - DÃ©veloppeur API ConfirmÃ©  
- **DurÃ©e** : 30-40 heures (cumulative)
- **Public** : DÃ©veloppeurs avec bases Node.js
- **Objectif** : DÃ©velopper des APIs robustes et sÃ©curisÃ©es

#### ğŸ¥‡ **Niveau Gold** - Expert API Enterprise
- **DurÃ©e** : 40-60 heures (cumulative)
- **Public** : DÃ©veloppeurs expÃ©rimentÃ©s
- **Objectif** : Concevoir et dÃ©ployer des APIs enterprise-grade

## ğŸ“‹ Liste des TPs Disponibles

| TP | Titre | Niveau | DurÃ©e | Statut |
|----|-------|--------|-------|--------|
| [TP-01](./README_TP_01.md) | Fondamentaux Node.js/TypeScript | ğŸ¥‰ Bronze | 4-6h | âœ… Complet |
| [TP-02](./README_TP_02.md) | Routes et Middleware AvancÃ©s | ğŸ¥‰ Bronze | 5-7h | âœ… Complet |
| [TP-03](./README_TP_03.md) | Validation et Gestion d'Erreurs | ğŸ¥‰ Bronze | 4-6h | âœ… Complet |
| [TP-04](./README_TP_04.md) | Tests et QualitÃ© de Code | ğŸ¥ˆ Silver | 6-8h | âœ… Complet |
| [TP-05](./README_TP_05.md) | SÃ©curitÃ© et Authentification | ğŸ¥ˆ Silver | 6-8h | âœ… Complet |
| [TP-06](./README_TP_06.md) | Base de DonnÃ©es et Performance | ğŸ¥ˆ Silver | 8-10h | âœ… Complet |
| [TP-07](./README_TP_07.md) | API AvancÃ©e et Optimisations | ğŸ¥‡ Gold | 8-10h | âœ… Complet |
| [TP-08](./README_TP_08.md) | DÃ©ploiement et Production | ğŸ¥‡ Gold | 10-12h | âœ… Complet |

## ğŸ“ Livrables par TP

### Fichiers Disponibles
Chaque TP dispose d'un ensemble complet de ressources :

- **ğŸ“– README_TP_XX.md** - Documentation thÃ©orique et concepts
- **ğŸ’» EXERCICES_XX.md** - Exercices pratiques par niveau
- **âœ… SOLUTIONS_XX.md** - Solutions complÃ¨tes et expliquÃ©es  
- **ğŸ¯ OBJECTIFS_XX.md** - Objectifs pÃ©dagogiques et Ã©valuation

### Structure ComplÃ¨te
```
ğŸ“ universal-rest-api/
â”œâ”€â”€ ğŸ“– GUIDE_COMPLET.md         # Vue d'ensemble de la formation
â”œâ”€â”€ ğŸ“‹ Documentations par TP/
â”‚   â”œâ”€â”€ README_TP_01.md â†’ README_TP_08.md
â”‚   â”œâ”€â”€ EXERCICES_01.md â†’ EXERCICES_08.md  
â”‚   â”œâ”€â”€ SOLUTIONS_01.md â†’ SOLUTIONS_08.md
â”‚   â””â”€â”€ OBJECTIFS_01.md â†’ OBJECTIFS_08.md
â””â”€â”€ ğŸ’» Code Source/
    â”œâ”€â”€ src/ (implÃ©mentation de rÃ©fÃ©rence)
    â”œâ”€â”€ tests/ (suite de tests complÃ¨te)
    â””â”€â”€ docker/ (conteneurisation)
```

## ğŸš€ FonctionnalitÃ©s DÃ©veloppÃ©es

### Au terme de la formation, les Ã©tudiants maÃ®trisent :

#### ğŸ› ï¸ **Stack Technique Complete**
- **Backend** : Node.js 18+, TypeScript 5.x, Express.js
- **Base de DonnÃ©es** : PostgreSQL + MongoDB, cache Redis
- **Tests** : Jest, Supertest, TDD, couverture >90%
- **SÃ©curitÃ©** : JWT, RBAC, bcrypt, audit de sÃ©curitÃ©
- **Performance** : Pagination, cache, optimisations
- **DevOps** : Docker, CI/CD, Terraform, monitoring

#### ğŸ—ï¸ **Architecture Enterprise**
- **Design Patterns** : Repository, Factory, Observer
- **API Design** : RESTful, versioning, documentation Swagger
- **Microservices** : DÃ©couplage, communication async
- **ObservabilitÃ©** : Logs structurÃ©s, mÃ©triques, traces

#### ğŸ¯ **CompÃ©tences MÃ©tier**
- **E-commerce API** : Utilisateurs, produits, commandes, paiements
- **Recherche AvancÃ©e** : Facettes, suggestions, elasticsearch
- **Upload & Media** : Fichiers, images, traitement
- **Analytics** : MÃ©triques business, dashboards temps rÃ©el

## ğŸ“ Architecture du Code Source

```
src/
â”œâ”€â”€ index.js                    # Point d'entrÃ©e principal
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ environment.js         # Configuration des variables d'environnement
â”‚   â””â”€â”€ database.js            # Configuration base de donnÃ©es multi-provider
â”œâ”€â”€ controllers/
â”‚   â”œâ”€â”€ index.js               # Export centralisÃ© des contrÃ´leurs
â”‚   â””â”€â”€ items.controller.js    # ContrÃ´leur CRUD avec pagination/recherche
â”œâ”€â”€ framework/
â”‚   â”œâ”€â”€ factory.js             # Factory pour sÃ©lection du framework
â”‚   â”œâ”€â”€ express/
â”‚   â”‚   â”œâ”€â”€ adapter.js         # Adaptateur Express avec Swagger
â”‚   â”‚   â””â”€â”€ server.js          # Configuration serveur Express optimisÃ©
â”‚   â””â”€â”€ fastify/
â”‚       â”œâ”€â”€ adapter.js         # Adaptateur Fastify avec Swagger
â”‚       â””â”€â”€ server.js          # Configuration serveur Fastify performant
â”œâ”€â”€ middleware/
â”‚   â”œâ”€â”€ index.js               # Export centralisÃ© des middlewares
â”‚   â”œâ”€â”€ auth.middleware.js     # Authentification JWT/RBAC/API Key
â”‚   â”œâ”€â”€ validation.middleware.js # Validation Joi multi-schÃ©mas
â”‚   â”œâ”€â”€ rateLimit.middleware.js # Rate limiting intelligent
â”‚   â””â”€â”€ error.middleware.js    # Gestion centralisÃ©e des erreurs
â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ index.js               # Configuration routes avec versioning
â”‚   â””â”€â”€ items.routes.js        # Routes CRUD + recherche + upload
â”œâ”€â”€ schemas/
â”‚   â”œâ”€â”€ items.schema.js        # SchÃ©mas Joi pour validation complÃ¨te
â”‚   â””â”€â”€ validation.js          # SchÃ©mas de validation gÃ©nÃ©riques
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ index.js               # Export centralisÃ© des services
â”‚   â”œâ”€â”€ items.service.js       # Service mÃ©tier avec cache et optimisations
â”‚   â”œâ”€â”€ auth.service.js        # Service d'authentification JWT
â”‚   â”œâ”€â”€ upload.service.js      # Service d'upload avec traitement images
â”‚   â””â”€â”€ search.service.js      # Service de recherche avancÃ©e
â””â”€â”€ swagger/
    â”œâ”€â”€ swagger.config.js      # Configuration OpenAPI 3 complÃ¨te
    â””â”€â”€ definitions/
        â””â”€â”€ items.yaml         # DÃ©finitions Swagger par ressource

tests/
â”œâ”€â”€ unit/                      # Tests unitaires avec mocks
â”œâ”€â”€ integration/               # Tests d'intÃ©gration API
â”œâ”€â”€ e2e/                      # Tests end-to-end complets
â””â”€â”€ fixtures/                 # DonnÃ©es de test et factories

docker/
â”œâ”€â”€ Dockerfile                # Image production optimisÃ©e
â”œâ”€â”€ docker-compose.yml        # Stack dÃ©veloppement complÃ¨te
â””â”€â”€ docker-compose.prod.yml   # Configuration production
```

## ğŸ¯ DÃ©marrage Rapide

### PrÃ©requis
- Node.js 18+ et npm/yarn
- Docker et Docker Compose
- PostgreSQL et Redis (ou via Docker)

### Installation Locale
```bash
# Cloner le repository
git clone <repo-url>
cd universal-rest-api

# Installer les dÃ©pendances
npm install

# Configuration environnement
cp .env.example .env
# Ã‰diter .env avec vos paramÃ¨tres

# DÃ©marrer les services (PostgreSQL, Redis)
docker-compose up -d postgres redis

# DÃ©marrer l'application
npm run dev
```

### Avec Docker (RecommandÃ©)
```bash
# DÃ©marrer la stack complÃ¨te
docker-compose up -d

# AccÃ©der Ã  l'API
curl http://localhost:3000/health

# Documentation Swagger
open http://localhost:3000/docs
```

## ğŸ§ª Tests et QualitÃ©

### Lancer les Tests
```bash
# Tests unitaires
npm run test:unit

# Tests d'intÃ©gration  
npm run test:integration

# Tests end-to-end
npm run test:e2e

# Couverture de code
npm run test:coverage

# Linter et formatting
npm run lint
npm run format
```

### MÃ©triques de QualitÃ©
- **Couverture** : >90% sur le code mÃ©tier
- **Performance** : <100ms P95 sur endpoints CRUD
- **SÃ©curitÃ©** : Audit automatisÃ©, 0 vulnÃ©rabilitÃ© critique
- **Documentation** : 100% endpoints documentÃ©s

## ğŸ“ Utilisation PÃ©dagogique

### Pour les Ã‰tudiants
1. **Suivre les TPs dans l'ordre** (TP-01 â†’ TP-08)
2. **Commencer par le niveau Bronze** de chaque TP
3. **Valider avec les tests** avant de passer au niveau suivant
4. **Consulter les solutions** uniquement aprÃ¨s tentatives

### Pour les Formateurs
1. **Adapter le rythme** selon le niveau de l'audience
2. **Utiliser les grilles d'Ã©valuation** fournies
3. **Organiser des code reviews** entre Ã©tudiants
4. **Proposer des dÃ©fis** bonus pour les plus avancÃ©s

### Organisation RecommandÃ©e
- **SÃ©ances** : 3h minimum par TP
- **Projet fil rouge** : API e-commerce Ã©volutive
- **Ã‰valuation** : Continue + projet final
- **Certification** : Badge par niveau atteint

## ğŸ“š Ressources d'Apprentissage

### Documentation Officielle
- [Node.js Documentation](https://nodejs.org/docs/)
- [TypeScript Handbook](https://www.typescriptlang.org/docs/)
- [Express.js Guide](https://expressjs.com/guide/)
- [PostgreSQL Documentation](https://www.postgresql.org/docs/)

### Outils de DÃ©veloppement
- [Postman Collection](./postman/) - Tests API prÃªts Ã  l'emploi
- [VS Code Workspace](./vscode/) - Configuration recommandÃ©e
- [Docker Configs](./docker/) - Environnements standardisÃ©s

### Ressources AvancÃ©es
- [Clean Architecture](https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html)
- [API Design Best Practices](https://github.com/microsoft/api-guidelines)
- [Node.js Security Best Practices](https://nodejs.org/en/docs/guides/security/)

## ğŸ† DÃ©bouchÃ©s et Certification

### MÃ©tiers VisÃ©s
- **DÃ©veloppeur Backend** Node.js/TypeScript (35-55kâ‚¬)
- **DÃ©veloppeur Full-Stack** avec spÃ©cialisation API (40-65kâ‚¬)  
- **Lead Developer** / Tech Lead (60-85kâ‚¬)
- **DevOps Engineer** (50-80kâ‚¬)
- **Architecte Logiciel** (70-100kâ‚¬)

### Certifications PrÃ©parÃ©es
- **AWS Certified Developer**
- **Google Cloud Professional Developer** 
- **Microsoft Azure Developer Associate**
- **Kubernetes Application Developer (CKAD)**

## ğŸ¤ Contribution

### Comment Contribuer
1. **Fork** le repository
2. **CrÃ©er une branche** feature/improvement
3. **DÃ©velopper** avec tests
4. **Ouvrir une Pull Request** avec description dÃ©taillÃ©e

### Roadmap 2024-2025
- [ ] Module GraphQL (TP-09)
- [ ] Module gRPC (TP-10)  
- [ ] Module Serverless (TP-11)
- [ ] Module Microservices (TP-12)

### Feedback ApprÃ©ciÃ©
- ğŸ› **Bugs** : Issues GitHub
- ğŸ’¡ **AmÃ©liorations** : Discussions GitHub
- ğŸ“š **Documentation** : Pull Requests
- ğŸ“ **Retours pÃ©dagogiques** : Email formateurs

---

## ğŸ“ Support et Contact

### Support Technique
- **Issues GitHub** : Bugs et questions techniques
- **Discussions** : Partage d'expÃ©riences
- **Wiki** : FAQ et troubleshooting

### Ã‰quipe PÃ©dagogique
- **Auteur Principal** : Expert Node.js/TypeScript
- **Reviewers** : DÃ©veloppeurs Senior et Formateurs
- **Community** : Ã‰tudiants et professionnels

---

**ğŸ¯ Objectif : Former la nouvelle gÃ©nÃ©ration de dÃ©veloppeurs API TypeScript avec un niveau enterprise et des compÃ©tences immÃ©diatement opÃ©rationnelles en entreprise.**
â”œâ”€â”€ schemas/ # SchÃ©mas de validation
â”œâ”€â”€ middleware/ # Middleware pour la gestion des requÃªtes et des erreurs
â”œâ”€â”€ framework/ # Adaptations spÃ©cifiques aux frameworks
â”œâ”€â”€ swagger/ # Configuration et dÃ©finitions Swagger
â””â”€â”€ config/ # Configuration de l'application

```

## ğŸ› ï¸ Installation

```bash
# Cloner le projet
git clone <repository-url>
cd universal-rest-api

# Installer les dÃ©pendances
npm install

# Configurer l'environnement
cp .env.example .env
# Ã‰diter le fichier .env selon vos besoins
```

## âš™ï¸ Configuration

CrÃ©ez un fichier `.env` Ã  la racine du projet :

```env
# Framework Ã  utiliser (express, fastify)
FRAMEWORK=express

# Port du serveur
PORT=3001

# ClÃ© secrÃ¨te JWT
JWT_SECRET=your-secret-key

# Environnement
NODE_ENV=development
```

## ğŸš€ Utilisation

### DÃ©marrage du serveur

```bash
# Mode dÃ©veloppement avec nodemon
npm run dev

# Mode production
npm start
```

Le serveur dÃ©marre sur le port configurÃ© (3001 par dÃ©faut).

### API Endpoints

| MÃ©thode | Endpoint         | Description              |
| ------- | ---------------- | ------------------------ |
| GET     | `/api/items`     | RÃ©cupÃ©rer tous les items |
| GET     | `/api/items/:id` | RÃ©cupÃ©rer un item par ID |
| POST    | `/api/items`     | CrÃ©er un nouvel item     |
| PUT     | `/api/items/:id` | Mettre Ã  jour un item    |
| DELETE  | `/api/items/:id` | Supprimer un item        |

### Documentation Swagger

Une fois le serveur dÃ©marrÃ©, accÃ©dez Ã  la documentation interactive :

- **Swagger UI** : http://localhost:3001/docs

### Exemples d'utilisation

#### RÃ©cupÃ©rer tous les items

```bash
curl http://localhost:3001/api/items
```

#### CrÃ©er un nouvel item

```bash
curl -X POST http://localhost:3001/api/items \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Nouvel Item",
    "description": "Description de l'item",
    "price": 29.99,
    "category": "electronics"
  }'
```

#### Avec authentification JWT

```bash
curl -X POST http://localhost:3001/api/items \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -d '{"name": "Item sÃ©curisÃ©", "description": "NÃ©cessite auth", "price": 99.99, "category": "premium"}'
```

## ğŸ”§ Ajouter un nouveau framework

Le template est conÃ§u pour Ãªtre facilement extensible. Voici comment ajouter un nouveau framework :

### 1. CrÃ©er l'adaptateur

```javascript
// src/framework/hapi/adapter.js
export class HapiAdapter {
  constructor() {
    // Initialisation du serveur Hapi
  }

  configureRoutes() {
    // Configuration des routes Hapi
  }

  configureSwagger() {
    // Configuration Swagger pour Hapi
  }

  async listen(port, callback) {
    // DÃ©marrage du serveur
  }
}
```

### 2. Mettre Ã  jour la factory

```javascript
// src/framework/factory.js
import { HapiAdapter } from "./hapi/adapter.js";

export class FrameworkFactory {
  static create(framework) {
    switch (framework) {
      case "express":
        return new ExpressAdapter();
      case "fastify":
        return new FastifyAdapter();
      case "hapi":
        return new HapiAdapter(); // Nouveau framework
      default:
        throw new Error(`Framework "${framework}" not supported`);
    }
  }
}
```

### 3. Configurer l'environnement

```env
FRAMEWORK=hapi
```

npm run dev

```

## AccÃ©der Ã  la documentation Swagger
La documentation de l'API est accessible Ã  l'adresse suivante :
```

http://localhost:3000/docs

````

## FonctionnalitÃ©s
- CRUD gÃ©nÃ©rique pour la ressource "items" (GET, POST, PUT, DELETE).
- Validation des requÃªtes et des rÃ©ponses.
- Gestion centralisÃ©e des erreurs.
- Middleware pour l'authentification (JWT, API Key).
- SystÃ¨me d'injection de dÃ©pendances pour intÃ©grer des services personnalisÃ©s.

## ğŸ“ Validation et schÃ©mas

Le template utilise Zod pour la validation avec des schÃ©mas rÃ©utilisables :

```javascript
// src/schemas/items.schema.js
import { z } from 'zod';

export const createItemSchema = z.object({
  name: z.string().min(1, 'Name is required'),
  description: z.string().min(1, 'Description is required'),
  price: z.number().positive('Price must be positive'),
  category: z.enum(['electronics', 'books', 'clothing', 'other'])
});
````

## ğŸ” Authentification

Deux mÃ©thodes d'authentification sont supportÃ©es :

### JWT Token

```javascript
// Header
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### API Key

```javascript
// Header
X-API-Key: your-api-key-here
```

## ğŸ§ª Tests

```bash
# Tests unitaires
npm test

# Tests d'intÃ©gration
npm run test:integration

# Coverage
npm run test:coverage
```

## ğŸ“Š Monitoring et logging

Le template inclut un systÃ¨me de logging configurÃ© :

```javascript
// Les logs sont automatiquement gÃ©nÃ©rÃ©s
console.log("ğŸš€ Server running on port 3001");
console.log("ğŸ“š Swagger documentation available at http://localhost:3001/docs");
console.log("ğŸ”§ Framework: express");
```

## ğŸš€ DÃ©ploiement

### Docker

```dockerfile
# Dockerfile inclus pour containerisation
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production
COPY . .
EXPOSE 3001
CMD ["npm", "start"]
```

```bash
# Build et run
docker build -t universal-rest-api .
docker run -p 3001:3001 universal-rest-api
```

### Heroku

```bash
# DÃ©ploiement Heroku
heroku create your-app-name
git push heroku main
```

## ğŸ¤ Contribution

1. Fork le projet
2. CrÃ©er une branche feature (`git checkout -b feature/nouvelle-fonctionnalite`)
3. Commit les changements (`git commit -am 'Ajout nouvelle fonctionnalitÃ©'`)
4. Push la branche (`git push origin feature/nouvelle-fonctionnalite`)
5. CrÃ©er une Pull Request

## ğŸ“„ Licence

Ce projet est sous licence MIT. Voir le fichier [LICENSE](LICENSE) pour plus de dÃ©tails.

## ğŸ†˜ Support

- ğŸ“š [Documentation Swagger](http://localhost:3001/docs)

---

**DÃ©veloppÃ© avec â¤ï¸ pour la communautÃ© Node.js**
